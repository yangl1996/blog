---
layout: post
title: 从 Gmail 切换到 FastMail
image: "/content/images/2017/02/1280px-Mailbox_USA.jpg"
date: '2017-02-23 18:47:42'
---

一月初，我把主要邮箱从 Gmail 切换到了 [FastMail](https://www.fastmail.com/?STKI=16779081)。下面是切换的原因、过程和一个半月的使用体验。

###### tl;dr

FastMail 作为邮件服务商，注重用户隐私，商业模式可靠。对邮件协议的支持注重标准规范，可以托管域，另外在 iOS 原生 Mail 上支持推送，十分值得推荐。

#### 切换原因

我几乎不换邮箱，到现在一共也就这四个： 03 年注册的 Hotmail、09 年注册的 Gmail、学校邮箱和刚开始用的 FastMail。从 Hotmail 切换到 Gmail 是因为，那时候 Gmail 在存储空间（那时候 Gmail 存储空间会不停涨，同时也是第一家提倡用 Archiving 取代 Deleting 的）和功能（支持过滤器）上远超对手。可以说，那时候 Gmail 是有绝对的优势的。

直到大约 12 年，Gmail 还提供一项很棒的功能，就是对 Exchange ActiveSync 的支持（branded as Google Sync）。通过这个协议，邮件、通讯录、日历会被推送到设备上，而不是设备手动去拉取。这样一有新邮件，设备会立即收到通知，实际使用时是很方便的。在 iCloud 出现前，我也用它同步通讯录。可惜后来几大厂开始打架，Google 就取消了这项服务。

现在，Gmail 的那些特性几乎成为了标配。这时候它的一些缺点就开始明显起来。比如

* 不尊重协议规范
* IMAP 连接不稳定而且慢（无论墙内外）
* 数据隐私堪忧

其中第一项是很讨厌的。我几乎不用 Webmail 也不考虑服务商自己的 App，不尊重协议规范导致我无法预测 IMAP 客户端上的操作会在服务器上反映成什么行为。这种属于忍也能忍，就是不舒服的那种。所以在我看到 Hacker News 上有人安利 FastMail，就赶紧调查了一番。和 Gmail 相比，FastMail 的亮点有：

* 私有公司，公司注册在澳大利亚
* 历史久，且历史上可靠性一直不错
* iOS 上支持 IMAP、CalDAV、CardDAV 推送
* 可靠的商业模式（付费订阅，没有免费账户）
* 协议实现非常标准
* 可以 host 自己的域
* 速度快
* （传说中）超棒的支持
* 2FA 支持 Yubico OTP（当然还有 TOTP）

其中推送特别吸引人。事实上 IMAP 要实现推送方法很多。桌面客户端一般通过和服务器维持长连接来实现（所以你会发现，桌面邮件客户端不需要定期拉取，邮件一到就会通知）。手机上这么做肯定是不行了，iOS 的方法是：服务器在收到邮件的时候通过 APNS 给客户端推送通知，客户端收到后，默默启动 Mail.app 拉取邮件并通知用户，从而实现实时。

#### 切换过程

整个切换过程算是平滑。大概三步：**1.** 把 yangl1996.com 的邮件相关 DNS 指向 FastMail；**2.** 把 Gmail 和 Hotmail 的 9000 多封邮件导入 FastMail；**3.** 让 Gmail 和 Hotmail 自动转发到 FastMail。

第一步、第三步非常简单。第二步就比较麻烦了，要深思熟虑再动手。

麻烦之处在于：第一，Gmail 用文件夹对应 tag。这样，如果一封邮件被打了 tag，那它会同时出现在 Archive 和 tag 对应的目录。如果打了多个 tag 那就会出现更多副本。如果直接用 FastMail 的导入工具，会造成大量邮件副本。第二，Gmail 把已发送邮件同时在 Archive 和 Sent 里存了一遍，如果直接导入，所有自己发的邮件都会出现两次。正常情况下，只应该出现在 Sent 中。好在这两个问题我都提前预见到了，避免了不少麻烦。

所以，在导入前一定要先删掉所有 tag。然后在导入后，筛选出所有自己发的邮件，把这些邮件在 Archive 中的副本删除，只保留 Sent 中的副本。FastMail 的导入工具下载 9000 封邮件大概花了 1 小时，比想象的要快。

#### 实用效果

虽然用的机会少，但 FastMail 的 **Web 界面**真的很不错。一开始倒邮件的时候用到，感觉这个速度秒杀其他任何服务商。另外，UI 设计很不错，比较干净。9000 多封邮件复杂搜索也是瞬间出结果。这个是第一印象。

**IMAP** 速度极快，而且实现标准。什么文件夹该放什么都很准确，在 Apple Mail 里绝对不会出现重复的邮件。强迫症患者福音。顺便吐槽下学校邮箱，校外连接时 Apple Mail 经常提示证书错误，一看貌似用了个样例证书……

iOS 上的**推送**很实用。之前经常出现~~故意~~不刷新邮箱导致收不到重要邮件的情况，有时候会误事~~（正中下怀hhh）~~。现在无论什么邮件都立即通知，大大减少误事的概率~~（没办法偷懒了0.0）~~。

**个人域托管**效果正常，该有的都有。我之前用的是 Windows Live Domain。这也是老服务了，已经不开放新用户。老用户只要不 opt out，就可以一直用下去。不过我估计它哪天就连老用户也不支持了，所以也一直打算换个地方。FastMail host 个人域是通过添加 alias 实现的。对于个人用户来说够用。

FastMail 除了提供 25G 邮箱空间（标准账户），还有 10G **文件存储**。除 Web 界面外，支持 WebDAV 和 FTP。现在我用来放要在 DPT-S1 上看的文档。另外放在上面的文件可以直接作为网站提供公开访问或密码保护访问。这个功能还没试过。

**2FA**。我觉得这个是一个网站的必备。Yubico OTP 的支持算是惊喜，我是翻设置的时候才发现的。一般网站要支持硬件 Token 都是支持 FIDO U2F 规范。不过这规范 Safari 迟迟不支持（毕竟 Google 主推的东西）。Yubico OTP 不需要浏览器做改变（事实上就是输一串字符），什么浏览器都可以用。

**通讯录**和**日历**我还没用过。FastMail 的 CardDAV 和 CalDAV 在 iOS 上也是支持推送的，所以理论上可以获得和 iCloud 一样的效果。不过 iCloud 同步日历、通讯录效果挺好的，所以我没换的打算。

服务**可用性**是基本中的基本。这点上 FastMail 目前为止没掉过链子。

一个半月用下来，FastMail 我认为是一个专心做邮件（和附属的通讯录、日历）的服务商。在做好 Webmail 的同时不忘记提供完整标准的邮件协议支持，我觉得是极其难得的，也正好契合我的使用习惯，是 FastMail 最大的亮点。我个人认为 [FastMail](https://www.fastmail.com/?STKI=16779081) 非常值得付费订阅。